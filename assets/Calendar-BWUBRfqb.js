import{l as M,t as y,m as N,j as e,L as T,f as u,r as _,s as b,n as E,B as f,C,o as k,p as w,q as S}from"./index-DW1NDbZa.js";import{s as B,a as O,b as A,c as I,B as F,E as H}from"./event-list-DYNlcKgl.js";function K(t){return M(t,Date.now())}function R(t,o){const n=y(t.start),s=y(t.end);let l=+n>+s;const x=l?+n:+s,d=l?s:n;d.setHours(0,0,0,0);let v=1;const i=[];for(;+d<=x;)i.push(y(d)),d.setDate(d.getDate()+v),d.setHours(0,0,0,0);return l?i.reverse():i}function $(t){return y(t).getDay()}function L(t){return N(t,K(t))}const W=t=>{const o=n=>{let s=new Date(0);return s=B(s,n.getHours()),s=O(s,n.getMinutes()),s=A(s,0),s=I(s,0),u(s,"h:mm a")};return e.jsx("li",{className:"event-calendar__item",children:e.jsxs(T,{to:`/events/payment/${t.id}`,children:[e.jsx("h4",{children:t.name}),e.jsx("p",{children:t.location}),e.jsx("p",{children:o(t.startTime)+" - "+o(t.endTime)})]})},t.name)},q=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],V=({events:t})=>{const o=new Date,[n,s]=_.useState(o),l=b(n),x=E(n),d=R({start:l,end:x}),v=$(l),i=_.useMemo(()=>t.reduce((a,r)=>{const c=u(r.date,"yyyy-MM-dd");return a[c]||(a[c]=[]),a[c].push(r),a},{}),[t]),p=a=>{let r;return F.forEach(c=>{a>=c.startDate&&a<=c.endDate&&(r=c)}),r},D=a=>{s(S(n,a))};return e.jsxs("div",{className:"event-calendar pt-10 px-2",children:[e.jsxs("div",{className:"event-calendar__header mb-7 black",children:[e.jsx("h2",{children:u(n,"MMMM yyyy")}),e.jsxs("div",{children:[e.jsx(f,{variant:"secondary",onClick:()=>{D(-1)},children:e.jsx(C,{className:"h-4 w-4"})}),e.jsx(f,{variant:"secondary",onClick:()=>{D(1)},children:e.jsx(k,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"event-calendar__grid grid grid-cols-7 gap-2",children:[q.map(a=>e.jsx("div",{className:"bold text-center mt-3 mb-10",children:a},a)),Array.from({length:v}).map((a,r)=>e.jsx("div",{className:"rounded-md p-2 text-center"},`empty-${r}`)),d.map((a,r)=>{const c=u(a,"yyyy-MM-dd"),j=i[c]||[],h=p(a),g=h?h.type:"";return e.jsxs("div",{className:w(`event-calendar__day-container rounded-md p-2 day-status__${g}`,{"event-calendar__empty-day":j.length<=0}),children:[e.jsx("div",{className:`${L(a)&&"event-calendar__today black"}`,children:u(a,"d")}),h&&e.jsx("p",{className:"day-status__text bold",children:h.name}),j.length>0&&e.jsx("ul",{className:"event-calendar__event-list",children:j.map(m=>e.jsx(W,{id:m.id,name:m.name,location:m.location,startTime:m.startTime,endTime:m.endTime}))})]},r)})]})]})},G=()=>e.jsxs("div",{className:"calendar-page",children:[e.jsxs("div",{className:"calendar-page__header",children:[e.jsx("h1",{className:"black",children:"Current Dates"}),e.jsx("p",{children:"Once you figured out a date for you to host your event, you can book your reservation."}),e.jsx("p",{children:"Please note that times will not be available for events that have already been scheduled!"})]}),e.jsx("div",{className:"calendar-page__main-content pt-5 pb-5",children:e.jsx(V,{events:H})})]});export{G as default};
