import{l as g,t as y,m as M,j as e,L as k,f as h,r as p,s as b,n as T,B as D,C as E,o as C,p as w,q as S}from"./index-CIEwgux0.js";import{s as A,a as B,b as O,c as H,B as I,E as K}from"./event-list-DhRLUz9e.js";function R(a){return g(a,Date.now())}function F(a,l){const n=y(a.start),t=y(a.end);let i=+n>+t;const x=i?+n:+t,d=i?t:n;d.setHours(0,0,0,0);let j=1;const o=[];for(;+d<=x;)o.push(y(d)),d.setDate(d.getDate()+j),d.setHours(0,0,0,0);return i?o.reverse():o}function W(a){return y(a).getDay()}function $(a){return M(a,R(a))}const L=a=>{const l=n=>{let t=new Date(0);return t=A(t,n.getHours()),t=B(t,n.getMinutes()),t=O(t,0),t=H(t,0),h(t,"h:mm a")};return e.jsx("li",{className:"event-calendar__item",children:e.jsxs(k,{to:`/events/payment/${a.id}`,children:[e.jsx("h4",{children:a.name}),e.jsx("p",{children:a.location}),e.jsx("p",{children:l(a.startTime)+" - "+l(a.endTime)})]})},a.name)},q=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],V=({events:a})=>{const l=new Date,[n,t]=p.useState(l),i=b(n),x=T(n),d=F({start:i,end:x}),j=W(i),o=p.useMemo(()=>a.reduce((s,r)=>{const c=h(r.date,"yyyy-MM-dd");return s[c]||(s[c]=[]),s[c].push(r),s},{}),[a]),f=s=>{let r;return I.forEach(c=>{s>=c.startDate&&s<=c.endDate&&(r=c)}),r},_=s=>{t(S(n,s))};return e.jsxs("div",{className:"event-calendar pt-10 px-2",children:[e.jsxs("div",{className:"event-calendar__header mb-7 black",children:[e.jsx("h2",{children:h(n,"MMMM yyyy")}),e.jsxs("div",{children:[e.jsx(D,{variant:"secondary",onClick:()=>{_(-1)},children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx(D,{variant:"secondary",onClick:()=>{_(1)},children:e.jsx(C,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"event-calendar__grid grid grid-cols-7 gap-2",children:[q.map(s=>e.jsx("div",{className:"bold text-center mt-3 mb-10",children:s},s)),Array.from({length:j}).map((s,r)=>e.jsx("div",{className:"rounded-md p-2 text-center"},`empty-${r}`)),d.map((s,r)=>{const c=h(s,"yyyy-MM-dd"),v=o[c]||[],u=f(s),N=u?u.type:"";return e.jsxs("div",{className:w(`event-calendar__day-container rounded-md p-2 day-status__${N}`,{"event-calendar__empty-day":v.length<=0}),children:[e.jsx("div",{className:`${$(s)&&"event-calendar__today black"}`,children:h(s,"d")}),u&&e.jsx("p",{className:"day-status__text bold",children:u.name}),v.length>0&&e.jsx("ul",{className:"event-calendar__event-list",children:v.map(m=>e.jsx(L,{id:m.id,name:m.name,location:m.location,startTime:m.startTime,endTime:m.endTime}))})]},r)})]})]})},Y=()=>e.jsxs("div",{className:"calendar-key",children:[e.jsxs("div",{children:[e.jsx("div",{className:"calendar-key__item-color calendar-key-closed"}),e.jsx("p",{children:"Closed"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"calendar-key__item-color calendar-key-holiday"}),e.jsx("p",{children:"Early Release / Holiday"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"calendar-key__item-color calendar-key-weather"}),e.jsx("p",{children:"Weather Warning"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"calendar-key__item-color calendar-key-available"}),e.jsx("p",{children:"Available"})]})]}),J=()=>e.jsxs("div",{className:"calendar-page",children:[e.jsxs("div",{className:"calendar-page__header",children:[e.jsx("h1",{className:"black",children:"Current Dates"}),e.jsx("p",{children:"Once you figured out a date for you to host your event, you can book your reservation."}),e.jsx("p",{children:"Please note that times will not be available for events that have already been scheduled!"})]}),e.jsx(Y,{}),e.jsx("div",{className:"calendar-page__main-content pt-5 pb-5",children:e.jsx(V,{events:K})})]});export{J as default};
