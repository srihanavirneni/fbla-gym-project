import{j as e,L as u,r as S,B as j,F as v,a7 as T,a6 as f}from"./index-CIEwgux0.js";import{R as b,S as A,d as E,M as _,A as R,e as I,f as $,E as C}from"./event-list-DhRLUz9e.js";import{a as w,S as D,B as O}from"./SeatChip-eExjLTPc.js";import"./card-Be4Zn7qA.js";const h=t=>e.jsx(u,{to:`/events/payment/${t.id}/${t.section}`,children:e.jsx("button",{className:`section-group ${t.side}`,children:e.jsx("h1",{className:"black text-4xl",children:t.section})})}),k=()=>e.jsxs("div",{className:"legend",children:[e.jsxs("div",{className:"legend__item",children:[e.jsx("div",{className:"legend__item-color legend-available"}),e.jsx("p",{children:"Available"})]}),e.jsxs("div",{className:"legend__item",children:[e.jsx("div",{className:"legend__item-color legend-selected"}),e.jsx("p",{children:"Selected"})]}),e.jsxs("div",{className:"legend__item",children:[e.jsx("div",{className:"legend__item-color legend-taken"}),e.jsx("p",{children:"Taken"})]})]}),N=t=>{const a=["A","B","C","D","E","F","G","H"],l=["A","B","C","D","E","F","G","H","I","J"],[s,i]=S.useState(!1),c=`${t.section}${l[t.rowIndex]}${t.seatIndex+1}`,o=`${t.section}${t.section==2||t.section==4?a[t.rowIndex]:a[a.length-t.rowIndex-1]}${t.seatIndex+1}`,d=t.auditorium?c:o,n=m=>{for(let x=0;x<t.takenSeats.length;x++)if(t.takenSeats[x]===m)return!0;return!1},r=()=>{t.onSeatToggle2(d,!s)===!0&&(n(d)||(i(!s),t.onSeatToggle(d,s)))};return e.jsx("div",{className:`seat ${n(d)?"seat-taken":""} ${s?"seat-selected":""}`,onClick:r,children:e.jsx("p",{className:"bold",children:d})},t.seatIndex+1)},y=t=>{const a=()=>t.section==="3"||t.section==="4",[l,s]=S.useState([]),i=(c,o)=>{if(o){if(l.length>=_)return!1;s([...l,c])}else s(l.filter(d=>d!==c));return!0};return e.jsxs("div",{className:"seat-list__big-container",children:[e.jsxs("h1",{className:"mb-0",children:["Section ",t.section]}),e.jsx(j,{asChild:!0,variant:"outline",children:e.jsxs(u,{to:`/events/payment/${t.eventId}`,children:[e.jsx(v,{icon:T}),"Back"]})}),e.jsx(k,{}),e.jsxs("div",{className:`seat-list__container ${t.section>2&&"container-court"}`,children:[t.section%2==0&&e.jsx("h1",{children:"COURT"}),e.jsx("div",{className:`seat-list ${t.side}`,children:Array.from({length:b},(c,o)=>e.jsx("div",{className:"seat-row",children:Array.from({length:a()?A:E},(d,n)=>e.jsx(N,{seatIndex:n,rowIndex:o,section:t.section,takenSeats:t.takenSeats,onSeatToggle:t.onSeatToggle,onSeatToggle2:i}))},o))}),t.section%2==1&&e.jsx("h1",{children:"COURT"})]})]})},L=t=>{const a=()=>t.location==="Main Field"||t.location==="STADIUM"?"FIELD":"COURT";return t.path>0?e.jsx("div",{className:"seat-group__container",children:e.jsx(y,{section:t.path,takenSeats:t.takenSeats,eventId:t.id,onSeatToggle:t.onSeatToggle,side:t.path==="1"||t.path==="2"?"horizontal":"vertical"})}):e.jsxs("div",{className:"seat-map",children:[e.jsx("p",{className:"black mb-5",children:"Click on a section to view seats"}),e.jsx("div",{className:"seat-map__top",children:e.jsx(h,{side:"horizontal",id:t.id,section:1})}),e.jsxs("div",{className:"seat-map__middle",children:[e.jsx(h,{side:"vertical",id:t.id,section:3}),e.jsx("div",{className:"stadium",children:e.jsx("h1",{children:a()})}),e.jsx(h,{side:"vertical",id:t.id,section:4})]}),e.jsx("div",{className:"seat-map__bottom",children:e.jsx(h,{side:"horizontal",id:t.id,section:2})})]})},g=t=>{const[a,l]=S.useState([]),s=(i,c)=>{if(c){if(a.length>=_)return!1;l([...a,i])}else l(a.filter(o=>o!==i));return!0};return e.jsx("div",{className:`auditorium-seat-list ${t.className}`,children:Array.from({length:R},(i,c)=>e.jsx("div",{className:"auditorium-seat-row",children:Array.from({length:t.side?I:$},(o,d)=>e.jsx(N,{seatIndex:d,rowIndex:c,section:t.section,takenSeats:t.takenSeats,onSeatToggle:t.onSeatToggle,onSeatToggle2:s,auditorium:!0}))},c))})},U=t=>e.jsxs("div",{className:"auditorium-seat-map",children:[e.jsx(k,{}),e.jsx("div",{className:"stage",children:e.jsx("h1",{children:"STAGE"})}),e.jsxs("div",{className:"auditorium-seats",children:[e.jsx(g,{className:"auditorium-seat-list-1",side:!0,onSeatToggle:t.onSeatToggle,takenSeats:t.takenSeats,section:1}),e.jsx(g,{className:"auditorium-seat-list-2",side:!1,onSeatToggle:t.onSeatToggle,takenSeats:t.takenSeats,section:2}),e.jsx(g,{className:"auditorium-seat-list-3",side:!0,onSeatToggle:t.onSeatToggle,takenSeats:t.takenSeats,section:3})]})]}),W=()=>{const t=f(),a=t.id,l=t.path;console.log(l);let s;C.forEach(n=>{n.id===a&&(s=n)});const[i,c]=S.useState([]),o=(n,r)=>{c(r?i.filter(m=>m!==n):[...i,n])},d=n=>{c(i.filter(r=>r!==n))};return s?e.jsxs("div",{className:"booking-page",children:[e.jsx(w,{name:s.name,description:s.description,startTime:s.startTime,endTime:s.endTime,location:s.location,ticketCost:s.ticketCost}),e.jsxs("div",{className:"booking-page__content",children:[e.jsxs("div",{className:"booking-page__ticket-selection",children:[e.jsx("h1",{className:"black",children:"Pick A Seat"}),e.jsx("p",{className:"medium mb-10",children:"You cannot select seats that are taken. Ticket prices are flat no matter where you sit."}),e.jsxs("div",{className:"seat-list__seat-input",children:[e.jsx("h3",{children:"Seats"}),e.jsx("p",{className:"mt-1 mb-1 text-sm",children:"Selected seats will show at the bottom. Click continue to purchase these tickets."}),e.jsxs("p",{className:"mt-1 mb-4 text-sm",children:["Maximum of ",e.jsxs("b",{children:[_," tickets"]})," ","per purchase."]}),e.jsx("div",{className:"recommended-seats-window",children:i.map(n=>e.jsx(D,{seat:n,onRemove:()=>d(n)}))})]}),e.jsx(j,{variant:"accent",disabled:i.length===0,asChild:i.length!==0,className:"booking-page__continue-btn",children:e.jsx(u,{to:`/events/payment/${a}/transaction/${i.join("b")}`,className:"text-white",children:"Continue"})}),e.jsx(j,{variant:"outline",asChild:!0,className:"ml-3",children:e.jsx(u,{to:"/events/",className:"text-black booking-page__back-btn bg-secondary",children:"Back"})})]}),e.jsx("div",{className:"booking-page__seat-list",children:s.location==="Auditorium"?e.jsx(U,{id:a,path:l,takenSeats:s.takenSeats,onSeatToggle:o}):e.jsx(L,{id:a,path:l,takenSeats:s.takenSeats,onSeatToggle:o,location:s.location})})]})]}):e.jsx(O,{})};export{W as default};
